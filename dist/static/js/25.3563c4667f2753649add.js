webpackJsonp([25],{xWma:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"CollectionStrategy",data:function(){return{searchInfo:{list:[],form:{productCode:"",companyCode:""}},deleteInfo:{isOpen:!1,form:{}}}},methods:{getListAjax:function(){console.log("发送ajax查询数据或分页规则处理"),this.searchInfo.list=[{companyCode:"0001",companyName:"浙江金爱农网络科技有限公司",debtPolicyStepBoList:[{debtPolicyStepStaffBoList:[{id:101,policyStepId:2,staffId:684,staffName:"尹佳倩"}],id:2,policyId:2,stepName:"收息前手"},{debtPolicyStepStaffBoList:[{id:105,policyStepId:3,staffId:695,staffName:"张财银"},{id:106,policyStepId:3,staffId:696,staffName:"吴顺"}],id:3,policyId:2,stepName:"电催前手"},{debtPolicyStepStaffBoList:[{id:120,policyStepId:4,staffId:684,staffName:"尹佳倩"},{id:121,policyStepId:4,staffId:685,staffName:"王露颖"}],id:4,policyId:2,stepName:"电催中手"},{debtPolicyStepStaffBoList:[{id:124,policyStepId:5,staffId:708,staffName:"邹继攀"}],id:5,policyId:2,stepName:"上门催收"},{debtPolicyStepStaffBoList:[{id:130,policyStepId:6,staffId:717,staffName:"朱梦莎"}],id:6,policyId:2,stepName:"法务"}],id:2,name:"浙江微农贷催收策略",productCode:"WND",productName:"微农贷"}]},formatValue:function(e,t,o){if("debtPolicyStepBoList"===t.property){var a=[];return o.forEach(function(e){var t=[];e.debtPolicyStepStaffBoList.forEach(function(e){t.push(e.staffName)}),a.push(e.stepName+"（"+t.join(",")+"）")}),a.join("，")}},openDelete:function(e){this.deleteInfo={isOpen:!0,form:e}},sendDeleteAjax:function(){console.log("确认删除ID为"+this.deleteInfo.form.id+"的策略")}},created:function(){this.getListAjax()}},n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-main",[o("Breadcrumb"),e._v(" "),o("SearchWarp",[o("el-form",{ref:"searchInfo.form",attrs:{inline:!0,model:e.searchInfo.form}},[o("el-form-item",{attrs:{label:"所属产品"}},[o("SelectProduct",{model:{value:e.searchInfo.form.productCode,callback:function(t){e.$set(e.searchInfo.form,"productCode",t)},expression:"searchInfo.form.productCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"所属公司"}},[o("SelectCompany",{model:{value:e.searchInfo.form.companyCode,callback:function(t){e.$set(e.searchInfo.form,"companyCode",t)},expression:"searchInfo.form.companyCode"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"success"},on:{click:e.getListAjax}},[e._v("查询")]),e._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.$router.push("/collection/strategy/edit")}}},[e._v("新增")])],1)],1)],1),e._v(" "),o("ContentWarp",[o("el-table",{attrs:{border:"",stripe:"",data:e.searchInfo.list,size:"small"}},[o("el-table-column",{attrs:{align:"center",label:"策略名称",prop:"name","min-width":"120px"}}),e._v(" "),o("el-table-column",{attrs:{align:"center",label:"所属公司",prop:"companyName",width:"320"}}),e._v(" "),o("el-table-column",{attrs:{align:"center",label:"所属产品",prop:"productName","min-width":"120px"}}),e._v(" "),o("el-table-column",{attrs:{align:"center",label:"策略角色",prop:"debtPolicyStepBoList",formatter:e.formatValue,"min-width":"400px"}}),e._v(" "),o("el-table-column",{attrs:{align:"center",label:"操作",width:"170px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",plain:""},on:{click:function(o){return e.$router.push("/collection/strategy/edit/"+t.row.id)}}},[e._v("修改")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(o){return e.openDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"删除",width:"600px",center:"",visible:e.deleteInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){return e.$set(e.deleteInfo,"isOpen",t)}}},[o("p",{staticClass:"text-center"},[e._v("\n      确定删除"),o("span",{staticClass:"text-red"},[e._v(" "+e._s(e.deleteInfo.form.name)+" ")]),e._v("吗？\n    ")]),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:e.sendDeleteAjax}},[e._v("确 认")]),e._v(" "),o("el-button",{on:{click:function(t){e.deleteInfo.isOpen=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]},i=o("C7Lr")(a,n,!1,null,null,null);t.default=i.exports}});