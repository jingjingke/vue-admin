webpackJsonp([12],{F8dJ:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n={name:"WorkAssignment",data:function(){return{searchInfo:{list:[],form:{productCode:"",companyCode:"",processId:""}},addInfo:{isOpen:!1,form:{productCode:"",companyCode:"",processId:""}},changeInfo:{isOpen:!1,form:{}},statusInfo:{isOpen:!1,form:{}},rules:{productCode:[{required:!0,message:"请选择产品",trigger:"change"}],companyCode:[{required:!0,message:"请选择公司",trigger:"change"}],processId:[{required:!0,message:"请选择流程",trigger:"change"}]}}},methods:{getListAjax:function(){console.log("发送ajax查询数据或分页规则处理"),this.searchInfo.list=[{productName:"微农贷",productCode:"WND",companyName:"杭州金爱农总公司",companyCode:"0001",status:0,isAutoCreated:1,processId:"1",processName:"20171031-浙江",definedName:"orderApply:1:1"}]},formatValue:function(e,o,t){return"status"===o.property?this.fomatLoopValue(t,[{text:0,value:"禁用"},{text:1,value:"启用"}]):"isAutoCreated"===o.property?this.fomatLoopValue(t,[{text:0,value:"未分配"},{text:1,value:"已分配"}]):void 0},sendAddAjax:function(e){var o=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("在此发送addInfo.form数据"),console.log(o.addInfo.form)})},resetAddInfo:function(){this.resetForm("formByAdd"),this.addInfo.isOpen=!1},openChange:function(e){var o=this;this.changeInfo.isOpen=!0,setTimeout(function(){o.$refs.formByChange.resetFields(),o.changeInfo.form={id:e.id,productCode:e.productCode,companyCode:e.companyCode,processId:e.processId}},100)},sendChangeAjax:function(e){var o=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("在此发送changeInfo.form数据"),console.log(o.changeInfo.form)})},resetChangeInfo:function(){this.$refs.formByChange.resetFields(),this.changeInfo.isOpen=!1},openStatus:function(e){this.statusInfo={isOpen:!0,form:e}},sendStatusAjax:function(){console.log("确认启用或禁用")}},mounted:function(){this.getListAjax()}},a={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("el-main",[t("Breadcrumb"),e._v(" "),t("SearchWarp",[t("el-form",{ref:"searchInfo.form",attrs:{inline:!0,model:e.searchInfo.form}},[t("el-form-item",{attrs:{label:"所属产品"}},[t("SelectProduct",{model:{value:e.searchInfo.form.productCode,callback:function(o){e.$set(e.searchInfo.form,"productCode",o)},expression:"searchInfo.form.productCode"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"所属公司"}},[t("SelectCompany",{model:{value:e.searchInfo.form.companyCode,callback:function(o){e.$set(e.searchInfo.form,"companyCode",o)},expression:"searchInfo.form.companyCode"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"success"},on:{click:e.getListAjax}},[e._v("查询")]),e._v(" "),t("el-button",{attrs:{type:"danger"},on:{click:function(o){e.addInfo.isOpen=!0}}},[e._v("新增")])],1)],1)],1),e._v(" "),t("ContentWarp",[t("el-table",{attrs:{border:"",stripe:"",data:e.searchInfo.list,size:"small"}},[t("el-table-column",{attrs:{align:"center",label:"产品名称",prop:"productName","min-width":"120px"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"产品编码",prop:"productCode",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"公司",prop:"companyName","min-width":"340px"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"流程名称",prop:"processName","min-width":"200px"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"定义名称",prop:"definedName","min-width":"200px"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"状态",prop:"status",formatter:e.formatValue,width:"60"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"是否分配",prop:"isAutoCreated",formatter:e.formatValue,width:"80"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"操作","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.openChange(o.row)}}},[e._v("修改\n            ")]),e._v(" "),t("el-button",{attrs:{size:"mini",type:0===o.row.status?"success":"danger",plain:""},on:{click:function(t){return e.openStatus(o.row)}}},[e._v(e._s(0===o.row.status?"启用":"禁用"))])]}}])})],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"新增流程分配",width:"600px",center:"",visible:e.addInfo.isOpen,"show-close":!1},on:{"update:visible":function(o){return e.$set(e.addInfo,"isOpen",o)}}},[t("el-form",{ref:"formByAdd",attrs:{model:e.addInfo.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"所属产品",prop:"productCode"}},[t("SelectProduct",{model:{value:e.addInfo.form.productCode,callback:function(o){e.$set(e.addInfo.form,"productCode",o)},expression:"addInfo.form.productCode"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.productCode,callback:function(o){e.$set(e.addInfo.form,"productCode",o)},expression:"addInfo.form.productCode"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"所属公司",prop:"companyCode"}},[t("SelectCompany",{model:{value:e.addInfo.form.companyCode,callback:function(o){e.$set(e.addInfo.form,"companyCode",o)},expression:"addInfo.form.companyCode"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.companyCode,callback:function(o){e.$set(e.addInfo.form,"companyCode",o)},expression:"addInfo.form.companyCode"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"选择流程",prop:"processId"}},[t("SelectProcess",{model:{value:e.addInfo.form.processId,callback:function(o){e.$set(e.addInfo.form,"processId",o)},expression:"addInfo.form.processId"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.processId,callback:function(o){e.$set(e.addInfo.form,"processId",o)},expression:"addInfo.form.processId"}})],1)],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(o){return e.sendAddAjax("formByAdd")}}},[e._v("新 增")]),e._v(" "),t("el-button",{on:{click:e.resetAddInfo}},[e._v("取 消")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"修改流程分配",width:"600px",center:"",visible:e.changeInfo.isOpen,"show-close":!1},on:{"update:visible":function(o){return e.$set(e.changeInfo,"isOpen",o)}}},[t("el-form",{ref:"formByChange",attrs:{model:e.changeInfo.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"所属产品",prop:"productCode"}},[t("SelectProduct",{model:{value:e.changeInfo.form.productCode,callback:function(o){e.$set(e.changeInfo.form,"productCode",o)},expression:"changeInfo.form.productCode"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.changeInfo.form.productCode,callback:function(o){e.$set(e.changeInfo.form,"productCode",o)},expression:"changeInfo.form.productCode"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"所属公司",prop:"companyCode"}},[t("SelectCompany",{model:{value:e.changeInfo.form.companyCode,callback:function(o){e.$set(e.changeInfo.form,"companyCode",o)},expression:"changeInfo.form.companyCode"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.changeInfo.form.companyCode,callback:function(o){e.$set(e.changeInfo.form,"companyCode",o)},expression:"changeInfo.form.companyCode"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"选择流程",prop:"processId"}},[t("SelectProcess",{model:{value:e.changeInfo.form.processId,callback:function(o){e.$set(e.changeInfo.form,"processId",o)},expression:"changeInfo.form.processId"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.changeInfo.form.processId,callback:function(o){e.$set(e.changeInfo.form,"processId",o)},expression:"changeInfo.form.processId"}})],1)],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(o){return e.sendChangeAjax("formByChange")}}},[e._v("修 改")]),e._v(" "),t("el-button",{on:{click:e.resetChangeInfo}},[e._v("取 消")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:0===e.statusInfo.form.status?"启用":"禁用",width:"600px",center:"",visible:e.statusInfo.isOpen,"show-close":!1},on:{"update:visible":function(o){return e.$set(e.statusInfo,"isOpen",o)}}},[t("p",{staticClass:"text-center"},[e._v("\n        确定"+e._s(0===e.statusInfo.form.status?"启用":"禁用")),t("span",{staticClass:"text-red"},[e._v(" "+e._s(e.statusInfo.form.companyName)+" ")]),e._v("-"),t("span",{staticClass:"text-red"},[e._v("\n          "+e._s(e.statusInfo.form.productName)+" ")]),e._v("-"),t("span",{staticClass:"text-red"},[e._v(" "+e._s(e.statusInfo.form.processName)+" ")]),e._v("吗？\n      ")]),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.sendStatusAjax}},[e._v("确 认")]),e._v(" "),t("el-button",{on:{click:function(o){e.statusInfo.isOpen=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]},s=t("C7Lr")(n,a,!1,null,null,null);o.default=s.exports}});