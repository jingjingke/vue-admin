webpackJsonp([24],{TwDw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={name:"GroupDepartment",data:function(){return{searchInfo:{list:[],form:{name:""}},addInfo:{isOpen:!1,form:{name:"",description:""}},changeInfo:{isOpen:!1,form:{}},deleteInfo:{isOpen:!1,form:{}},rules:{name:[{required:!0,message:"部门名称不能为空",trigger:"change"}],description:[{required:!0,message:"部门职责不能为空",trigger:"change"}]}}},methods:{getListAjax:function(){console.log("发送ajax查询数据或分页规则处理"),this.searchInfo.list=[{description:"内务1",id:43,name:"内务部",status:"0"},{description:"风控",id:42,name:"风控部",status:"0"},{description:"超级",id:41,name:"超级管理员",status:"0"},{description:"核算支持",id:36,name:"财务部",status:"0"},{description:"管理",id:35,name:"总经理",status:"0"},{description:"外访支持",id:34,name:"外访部",status:"0"},{description:"业务支持",id:33,name:"业务部",status:"0"}]},sendAddAjax:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("在此发送addInfo.form数据"),console.log(t.addInfo.form)})},resetAddInfo:function(){this.resetForm("formByAdd"),this.addInfo.isOpen=!1},openChange:function(e){var t=this;this.changeInfo.isOpen=!0,setTimeout(function(){t.$refs.formByChange.resetFields(),t.changeInfo.form={id:e.id,name:e.name,description:e.description}},100)},sendChangeAjax:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("在此发送changeInfo.form数据"),console.log(t.changeInfo.form)})},resetChangeInfo:function(){this.$refs.formByChange.resetFields(),this.changeInfo.isOpen=!1},openDelete:function(e){this.deleteInfo={isOpen:!0,form:e}},sendDeleteAjax:function(){console.log("确认删除ID为"+this.deleteInfo.form.id+"的部门")}},mounted:function(){this.getListAjax()}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-main",[n("Breadcrumb"),e._v(" "),n("SearchWarp",[n("el-form",{ref:"searchInfo.form",attrs:{inline:!0,model:e.searchInfo.form}},[n("el-form-item",{attrs:{label:"部门名称"}},[n("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.searchInfo.form.name,callback:function(t){e.$set(e.searchInfo.form,"name",t)},expression:"searchInfo.form.name"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"success"},on:{click:e.getListAjax}},[e._v("查询")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:function(t){e.addInfo.isOpen=!0}}},[e._v("新增")])],1)],1)],1),e._v(" "),n("ContentWarp",[n("el-table",{attrs:{border:"",stripe:"",data:e.searchInfo.list,size:"small"}},[n("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"80"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"部门名称",prop:"name","min-width":"160"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"部门描述",prop:"description","min-width":"300"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作",width:"260px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",plain:""},on:{click:function(n){return e.openChange(t.row)}}},[e._v("修改\n            ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(n){return e.openDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"新增部门",width:"600px",center:"",visible:e.addInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){return e.$set(e.addInfo,"isOpen",t)}}},[n("el-form",{ref:"formByAdd",attrs:{model:e.addInfo.form,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"部门名称",prop:"name"}},[n("el-input",{model:{value:e.addInfo.form.name,callback:function(t){e.$set(e.addInfo.form,"name",t)},expression:"addInfo.form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"部门职责",prop:"description"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.addInfo.form.description,callback:function(t){e.$set(e.addInfo.form,"description",t)},expression:"addInfo.form.description"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sendAddAjax("formByAdd")}}},[e._v("新 增")]),e._v(" "),n("el-button",{on:{click:e.resetAddInfo}},[e._v("取 消")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"修改角色",width:"600px",center:"",visible:e.changeInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){return e.$set(e.changeInfo,"isOpen",t)}}},[n("el-form",{ref:"formByChange",attrs:{model:e.changeInfo.form,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"部门名称",prop:"name"}},[n("el-input",{model:{value:e.changeInfo.form.name,callback:function(t){e.$set(e.changeInfo.form,"name",t)},expression:"changeInfo.form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"部门职责",prop:"description"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.changeInfo.form.description,callback:function(t){e.$set(e.changeInfo.form,"description",t)},expression:"changeInfo.form.description"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sendChangeAjax("formByChange")}}},[e._v("修 改")]),e._v(" "),n("el-button",{on:{click:e.resetChangeInfo}},[e._v("取 消 ")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"删除",width:"600px",center:"",visible:e.deleteInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){return e.$set(e.deleteInfo,"isOpen",t)}}},[n("p",{staticClass:"text-center"},[e._v("\n        确定删除"),n("span",{staticClass:"text-red"},[e._v(" "+e._s(e.deleteInfo.form.name)+" ")]),e._v("吗？\n      ")]),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.sendDeleteAjax}},[e._v("确 认")]),e._v(" "),n("el-button",{on:{click:function(t){e.deleteInfo.isOpen=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]},i=n("C7Lr")(o,r,!1,null,null,null);t.default=i.exports}});