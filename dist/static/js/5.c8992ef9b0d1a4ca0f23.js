webpackJsonp([5],{O167:function(e,l){},dLWD:function(e,l,c){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t={name:"GroupRolePower",data:function(){return{powerList:[],level01:!1,level02:!1,level03:!1,checkList:[],checklevel01:[],checklevel02:[],checklevel03:[],listlevel01:[],listlevel02:[],listlevel03:[]}},methods:{getRolePower:function(){var e=this;this.powerList=[{children:[{children:[{children:[],hasRelevance:"1",id:169,name:"查询资料列表",parentId:"101",seq:4,type:"3"},{children:[],hasRelevance:"1",id:159,name:"查询资料树",parentId:"101",seq:0,type:"3"},{children:[],hasRelevance:"1",id:117,name:"隐藏/显示",parentId:"101",seq:3,type:"3"},{children:[],hasRelevance:"1",id:116,name:"删除",parentId:"101",seq:2,type:"3"},{children:[],hasRelevance:"1",id:115,name:"修改",parentId:"101",seq:1,type:"3"},{children:[],hasRelevance:"1",id:114,name:"新增",parentId:"101",seq:0,type:"3"}],hasRelevance:"1",id:101,name:"资料配置",parentId:"18",seq:1,type:"1"},{children:[{children:[],hasRelevance:"1",id:167,name:"产品模型查询",parentId:"19",seq:3,type:"2"},{children:[],hasRelevance:"1",id:113,name:"启用/禁用",parentId:"19",seq:2,type:"3"},{children:[],hasRelevance:"1",id:112,name:"修改",parentId:"19",seq:1,type:"3"},{children:[],hasRelevance:"1",id:111,name:"新增",parentId:"19",seq:0,type:"3"}],hasRelevance:"1",id:19,name:"产品设置",parentId:"18",seq:0,type:"1"}],hasRelevance:"1",id:18,name:"产品管理",parentId:"",seq:12,type:"0"}],this.powerList.forEach(function(l){e.checkList[l.id]=[],e.listlevel01.push(l.id),"1"===l.hasRelevance&&e.checklevel01.push(l.id),l.children.forEach(function(c){e.checkList[l.id].push(c.id),e.listlevel02.push(c.id),"1"===c.hasRelevance&&e.checklevel02.push(c.id),c.children.forEach(function(l){e.listlevel03.push(l.id),"1"===l.hasRelevance&&e.checklevel03.push(l.id)})})})},level01Change:function(e){var l=this;this.checklevel01.indexOf(e)>=0?this.checkList[e].forEach(function(e){l.checklevel02.indexOf(e)<0&&l.checklevel02.push(e)}):this.checkList[e].forEach(function(e){var c=l.checklevel02.indexOf(e);c>=0&&l.checklevel02.splice(c,1)})},checkHas:function(e,l){for(var c=0;c<l.length;c++)if(l[c]===e)return!0;return!1},checkAll:function(e,l,c){this[e]=l?c:[]},checkChange:function(e,l){return e.length===l.length},goSave:function(){console.log("在此提交保存"),this.goBack()},goBack:function(){this.$router.back()}},watch:{checklevel01Str:function(){this.level01=this.checkChange(this.checklevel01,this.listlevel01)},checklevel02Str:function(){this.level02=this.checkChange(this.checklevel02,this.listlevel02)},checklevel03Str:function(){this.level03=this.checkChange(this.checklevel03,this.listlevel03)}},computed:{checklevel01Str:function(){return String(this.checklevel01)},checklevel02Str:function(){return String(this.checklevel02)},checklevel03Str:function(){return String(this.checklevel03)}},mounted:function(){this.getRolePower()}},n={render:function(){var e=this,l=e.$createElement,c=e._self._c||l;return c("el-main",[c("Breadcrumb",[c("el-breadcrumb-item",[e._v("分配权限")])],1),e._v(" "),c("ContentWarp",[c("div",{staticClass:"role-power-table"},[c("table",{attrs:{cellpadding:"0",cellspacing:"0",border:"0"}},[c("thead",[c("tr",[c("th",{attrs:{colspan:2,width:"160"}},[c("el-checkbox",{on:{change:function(l){return e.checkAll("checklevel01",e.level01,e.listlevel01)}},model:{value:e.level01,callback:function(l){e.level01=l},expression:"level01"}},[e._v("一级菜单\n              ")])],1),e._v(" "),c("th",{attrs:{colspan:2}},[c("el-checkbox",{on:{change:function(l){return e.checkAll("checklevel02",e.level02,e.listlevel02)}},model:{value:e.level02,callback:function(l){e.level02=l},expression:"level02"}},[e._v("二级菜单\n              ")])],1),e._v(" "),c("th",[c("el-checkbox",{on:{change:function(l){return e.checkAll("checklevel03",e.level03,e.listlevel03)}},model:{value:e.level03,callback:function(l){e.level03=l},expression:"level03"}},[e._v("页面或动作\n              ")])],1)])]),e._v(" "),c("tbody",[c("tr",[c("td",{attrs:{width:"36"}}),e._v(" "),c("td",{attrs:{width:"120"}}),e._v(" "),c("td",{attrs:{width:"36"}}),e._v(" "),c("td",{attrs:{width:"120"}}),e._v(" "),c("td"),e._v(" "),c("td")]),e._v(" "),e._l(e.powerList,function(l,t){return e._l(l.children,function(n,i){return c("tr",{key:t+"-"+i},[0===i?[c("td",{attrs:{rowspan:l.children.length}},[c("el-checkbox",{attrs:{label:l.id},on:{change:function(c){return e.level01Change(l.id)}},model:{value:e.checklevel01,callback:function(l){e.checklevel01=l},expression:"checklevel01"}})],1),e._v(" "),c("td",{attrs:{rowspan:l.children.length}},[e._v(e._s(l.name))])]:e._e(),e._v(" "),c("td",[c("el-checkbox",{attrs:{label:n.id},model:{value:e.checklevel02,callback:function(l){e.checklevel02=l},expression:"checklevel02"}})],1),e._v(" "),c("td",[e._v(e._s(n.name))]),e._v(" "),c("td",[e._l(n.children,function(l,n){return[c("el-checkbox",{key:t+"-"+i+"-"+n,attrs:{label:l.id},model:{value:e.checklevel03,callback:function(l){e.checklevel03=l},expression:"checklevel03"}},[e._v("\n                    "+e._s(l.name)+"\n                  ")])]})],2)],2)})})],2)])]),e._v(" "),c("div",{staticClass:"text-center mt30"},[c("el-button",{attrs:{type:"primary"},on:{click:e.goSave}},[e._v("保 存")]),e._v(" "),c("el-button",{on:{click:e.goBack}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var i=c("VU/8")(t,n,!1,function(e){c("O167")},null,null);l.default=i.exports}});