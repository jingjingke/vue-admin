webpackJsonp([11],{"Hq0+":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n={name:"WorkDelegate",data:function(){return{searchInfo:{list:[],form:{productCode:"",companyCode:"",processId:""}},addInfo:{isOpen:!1,form:{productCode:"",companyCode:"",processId:"",assignedRoleId:"",type:"",roleId:""}},changeInfo:{isOpen:!1,form:{}},statusInfo:{isOpen:!1,form:{}},rules:{productCode:[{required:!0,message:"请选择产品",trigger:"change"}],companyCode:[{required:!0,message:"请选择公司",trigger:"change"}],processId:[{required:!0,message:"请选择流程",trigger:"change"}],assignedRoleId:[{required:!0,message:"请选择被指派角色"},{type:"number",message:"请选择被指派角色",trigger:"change"}],type:[{required:!0,message:"请选择指派方式",trigger:"change"}],roleId:[{required:!0,message:"请选择指派角色"},{type:"number",message:"请选择指派角色",trigger:"change"}]}}},methods:{getListAjax:function(){console.log("发送ajax查询数据或分页规则处理"),this.searchInfo.list=[{assignedRole:{hideLevel:0,id:20,name:"省级风控",roleNo:"0010",status:"0",type:"1"},assignedRoleId:"20",companyId:"24",companyName:"浙江金爱农网络科技有限公司",companyCode:"0001",id:1,processId:"1",processName:"浙江申请减免",productCode:"WND",productName:"微农贷",roleId:"",status:"0",type:"1"}]},formatValue:function(e,o,t){return"type"===o.property?this.fomatLoopValue(t,[{text:"0",value:"人工分配"},{text:"1",value:"自动指派"}]):"status"===o.property?this.fomatLoopValue(t,[{text:"0",value:"启用"},{text:"1",value:"禁用"}]):"roleName"===o.property?t||"暂无":void 0},sendAddAjax:function(e){var o=this;this.$refs[e].validate(function(e){if(!e)return!1;"2"!==o.addInfo.form.type&&(o.addInfo.form.roleId=""),console.log("在此发送addInfo.form数据"),console.log(o.addInfo.form)})},resetAddInfo:function(){this.resetForm("formByAdd"),this.addInfo.isOpen=!1},openChange:function(e){var o=this;this.changeInfo.isOpen=!0,setTimeout(function(){o.$refs.formByChange.resetFields(),o.changeInfo.form={id:e.id,productCode:e.productCode,companyCode:e.companyCode,processId:e.processId,assignedRoleId:e.assignedRole.id,type:e.type,roleId:e.roleId}},100)},sendChangeAjax:function(e){var o=this;this.$refs[e].validate(function(e){if(!e)return!1;"2"!==o.changeInfo.form.type&&(o.changeInfo.form.roleId=""),console.log("在此发送changeInfo.form数据"),console.log(o.changeInfo.form)})},resetChangeInfo:function(){this.$refs.formByChange.resetFields(),this.changeInfo.isOpen=!1},openStatus:function(e){this.statusInfo={isOpen:!0,form:e}},sendStatusAjax:function(){console.log("确认启用或禁用")}},mounted:function(){this.getListAjax()}},a={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("el-main",[t("Breadcrumb"),e._v(" "),t("SearchWarp",[t("el-form",{ref:"searchInfo.form",attrs:{inline:!0,model:e.searchInfo.form}},[t("el-form-item",{attrs:{label:"所属产品"}},[t("SelectProduct",{model:{value:e.searchInfo.form.productCode,callback:function(o){e.$set(e.searchInfo.form,"productCode",o)},expression:"searchInfo.form.productCode"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"所属公司"}},[t("SelectCompany",{model:{value:e.searchInfo.form.companyCode,callback:function(o){e.$set(e.searchInfo.form,"companyCode",o)},expression:"searchInfo.form.companyCode"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"所属流程"}},[t("SelectProcess",{model:{value:e.searchInfo.form.processId,callback:function(o){e.$set(e.searchInfo.form,"processId",o)},expression:"searchInfo.form.processId"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"success"},on:{click:e.getListAjax}},[e._v("查询")]),e._v(" "),t("el-button",{attrs:{type:"danger"},on:{click:function(o){e.addInfo.isOpen=!0}}},[e._v("新增")])],1)],1)],1),e._v(" "),t("ContentWarp",[t("el-table",{attrs:{border:"",stripe:"",data:e.searchInfo.list,size:"small"}},[t("el-table-column",{attrs:{align:"center",label:"公司",prop:"companyName","min-width":"340px"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"产品名称",prop:"productName",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"流程名称",prop:"processName","min-width":"200px"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"被指派角色",prop:"assignedRole.name",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"指派方式",prop:"type",formatter:e.formatValue,width:"100"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"指派角色",prop:"roleName",formatter:e.formatValue,width:"120"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"状态",prop:"status",formatter:e.formatValue,width:"60"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"操作","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.openChange(o.row)}}},[e._v("修改\n            ")]),e._v(" "),t("el-button",{attrs:{size:"mini",type:0===o.row.status?"success":"danger",plain:""},on:{click:function(t){return e.openStatus(o.row)}}},[e._v(e._s(0===o.row.status?"启用":"禁用"))])]}}])})],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"新增委派规则",width:"600px",center:"",visible:e.addInfo.isOpen,"show-close":!1},on:{"update:visible":function(o){return e.$set(e.addInfo,"isOpen",o)}}},[t("el-form",{ref:"formByAdd",attrs:{model:e.addInfo.form,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"选择公司",prop:"companyCode"}},[t("SelectCompany",{model:{value:e.addInfo.form.companyCode,callback:function(o){e.$set(e.addInfo.form,"companyCode",o)},expression:"addInfo.form.companyCode"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.companyCode,callback:function(o){e.$set(e.addInfo.form,"companyCode",o)},expression:"addInfo.form.companyCode"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"选择产品",prop:"productCode"}},[t("SelectProduct",{model:{value:e.addInfo.form.productCode,callback:function(o){e.$set(e.addInfo.form,"productCode",o)},expression:"addInfo.form.productCode"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.productCode,callback:function(o){e.$set(e.addInfo.form,"productCode",o)},expression:"addInfo.form.productCode"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"选择流程",prop:"processId"}},[t("SelectProcess",{model:{value:e.addInfo.form.processId,callback:function(o){e.$set(e.addInfo.form,"processId",o)},expression:"addInfo.form.processId"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.processId,callback:function(o){e.$set(e.addInfo.form,"processId",o)},expression:"addInfo.form.processId"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"被指派角色",prop:"assignedRoleId"}},[t("SelectRole",{model:{value:e.addInfo.form.assignedRoleId,callback:function(o){e.$set(e.addInfo.form,"assignedRoleId",o)},expression:"addInfo.form.assignedRoleId"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.assignedRoleId,callback:function(o){e.$set(e.addInfo.form,"assignedRoleId",o)},expression:"addInfo.form.assignedRoleId"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"指派方式",prop:"type"}},[t("el-radio-group",{model:{value:e.addInfo.form.type,callback:function(o){e.$set(e.addInfo.form,"type",o)},expression:"addInfo.form.type"}},[t("el-radio",{attrs:{label:"1"}},[e._v("自动")]),e._v(" "),t("el-radio",{attrs:{label:"2"}},[e._v("人工")])],1)],1),e._v(" "),"2"===e.addInfo.form.type?[t("el-form-item",{attrs:{label:"指派角色",prop:"roleId"}},[t("SelectRole",{model:{value:e.addInfo.form.roleId,callback:function(o){e.$set(e.addInfo.form,"roleId",o)},expression:"addInfo.form.roleId"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.roleId,callback:function(o){e.$set(e.addInfo.form,"roleId",o)},expression:"addInfo.form.roleId"}})],1)],1)]:e._e()],2),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(o){return e.sendAddAjax("formByAdd")}}},[e._v("新 增")]),e._v(" "),t("el-button",{on:{click:e.resetAddInfo}},[e._v("取 消")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"修改委派规则",width:"600px",center:"",visible:e.changeInfo.isOpen,"show-close":!1},on:{"update:visible":function(o){return e.$set(e.changeInfo,"isOpen",o)}}},[t("el-form",{ref:"formByChange",attrs:{model:e.changeInfo.form,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"选择公司",prop:"companyCode"}},[t("SelectCompany",{model:{value:e.changeInfo.form.companyCode,callback:function(o){e.$set(e.changeInfo.form,"companyCode",o)},expression:"changeInfo.form.companyCode"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.changeInfo.form.companyCode,callback:function(o){e.$set(e.changeInfo.form,"companyCode",o)},expression:"changeInfo.form.companyCode"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"选择产品",prop:"productCode"}},[t("SelectProduct",{model:{value:e.changeInfo.form.productCode,callback:function(o){e.$set(e.changeInfo.form,"productCode",o)},expression:"changeInfo.form.productCode"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.changeInfo.form.productCode,callback:function(o){e.$set(e.changeInfo.form,"productCode",o)},expression:"changeInfo.form.productCode"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"选择流程",prop:"processId"}},[t("SelectProcess",{model:{value:e.changeInfo.form.processId,callback:function(o){e.$set(e.changeInfo.form,"processId",o)},expression:"changeInfo.form.processId"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.changeInfo.form.processId,callback:function(o){e.$set(e.changeInfo.form,"processId",o)},expression:"changeInfo.form.processId"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"被指派角色",prop:"assignedRoleId"}},[t("SelectRole",{model:{value:e.changeInfo.form.assignedRoleId,callback:function(o){e.$set(e.changeInfo.form,"assignedRoleId",o)},expression:"changeInfo.form.assignedRoleId"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.changeInfo.form.assignedRoleId,callback:function(o){e.$set(e.changeInfo.form,"assignedRoleId",o)},expression:"changeInfo.form.assignedRoleId"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"指派方式",prop:"type"}},[t("el-radio-group",{model:{value:e.changeInfo.form.type,callback:function(o){e.$set(e.changeInfo.form,"type",o)},expression:"changeInfo.form.type"}},[t("el-radio",{attrs:{label:"1"}},[e._v("自动")]),e._v(" "),t("el-radio",{attrs:{label:"2"}},[e._v("人工")])],1)],1),e._v(" "),"2"===e.changeInfo.form.type?[t("el-form-item",{attrs:{label:"指派角色",prop:"roleId"}},[t("SelectRole",{model:{value:e.changeInfo.form.roleId,callback:function(o){e.$set(e.changeInfo.form,"roleId",o)},expression:"changeInfo.form.roleId"}}),e._v(" "),t("div",{staticClass:"disNone"},[t("el-input",{attrs:{type:"text"},model:{value:e.changeInfo.form.roleId,callback:function(o){e.$set(e.changeInfo.form,"roleId",o)},expression:"changeInfo.form.roleId"}})],1)],1)]:e._e()],2),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(o){return e.sendChangeAjax("formByChange")}}},[e._v("修 改")]),e._v(" "),t("el-button",{on:{click:e.resetChangeInfo}},[e._v("取 消")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"1"===e.statusInfo.form.status?"启用":"禁用",width:"600px",center:"",visible:e.statusInfo.isOpen,"show-close":!1},on:{"update:visible":function(o){return e.$set(e.statusInfo,"isOpen",o)}}},[t("p",{staticClass:"text-center"},[e._v("\n        确定"+e._s("1"===e.statusInfo.form.status?"启用":"禁用")),t("span",{staticClass:"text-red"},[e._v(" "+e._s(e.statusInfo.form.companyName)+" ")]),e._v("-"),t("span",{staticClass:"text-red"},[e._v("\n          "+e._s(e.statusInfo.form.productName)+" ")]),e._v("下"),t("br"),e._v(" "),void 0!==e.statusInfo.form.assignedRole?[t("span",{staticClass:"text-red"},[e._v("\n            "+e._s(e.statusInfo.form.assignedRole.name)+"\n          ")])]:e._e(),e._v("的\n        "),t("span",{staticClass:"text-red"},[e._v(e._s("0"===e.statusInfo.form.type?"人工分配":"自动派发"))]),e._v("吗？\n      ")],2),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.sendStatusAjax}},[e._v("确 认")]),e._v(" "),t("el-button",{on:{click:function(o){e.statusInfo.isOpen=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]},s=t("VU/8")(n,a,!1,null,null,null);o.default=s.exports}});
//# sourceMappingURL=11.e95534dd342ca9f26e67.js.map