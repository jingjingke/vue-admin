webpackJsonp([10],{"5KWD":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("aVnr"),l=a.n(o),i={name:"WorkProcess",data:function(){return{searchInfo:{list:[],form:{name:""}},addInfo:{isOpen:!1,form:{name:"",file:"",desc:""}},rules:{name:[{required:!0,message:"请输入流程名称",trigger:"blur"},{min:2,max:20,message:"长度为2-20个字符",trigger:"blur"}],desc:[{required:!0,message:"流程描述不能为空",trigger:"blur"},{min:5,max:100,message:"长度为5-100个字符",trigger:"blur"}],file:[{required:!0,message:"文件不能为空"}]}}},methods:{resetAddInfo:function(){this.resetForm("formByAdd"),this.$refs.addUpload.clearFiles(),this.addInfo.isOpen=!1},getListAjax:function(){console.log("发送ajax查询数据或分页规则处理"),this.searchInfo.list=l.a},sendAddAjax:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("在此发送addInfo.form数据"),console.log(t.addInfo.form)})},changeAddFile:function(e){this.$refs.addUpload.clearFiles(),this.$refs.addUpload.uploadFiles[0]=e,this.addInfo.form.file=JSON.stringify(e)},removeAddFile:function(e){this.$refs.addUpload.uploadFiles=[],this.addInfo.form.file=""}},mounted:function(){this.getListAjax()}},n=i,r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("Breadcrumb"),e._v(" "),a("SearchWarp",[a("el-form",{ref:"searchInfo.form",attrs:{inline:!0,model:e.searchInfo.form}},[a("el-form-item",{attrs:{label:"流程名称"}},[a("el-input",{attrs:{placeholder:"请输入流程名称"},model:{value:e.searchInfo.form.name,callback:function(t){e.$set(e.searchInfo.form,"name",t)},expression:"searchInfo.form.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.getListAjax}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.addInfo.isOpen=!0}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("ContentWarp",[a("el-table",{attrs:{border:"",stripe:"",data:e.searchInfo.list,size:"small"}},[a("el-table-column",{attrs:{align:"center",label:"流程名称",prop:"processName","min-width":"200px"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"定义名称",prop:"definedName","min-width":"200px"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"日期",prop:"addDate",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-search"},on:{click:function(a){e.$imgPreview([t.row.litpic,t.row.processName])}}},[e._v("查看流程图")])]}}])})],1)],1),e._v(" "),a("ContentWarp",{staticClass:"center"},[a("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next, jumper",total:126}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增流程",width:"600px",center:"",visible:e.addInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){e.$set(e.addInfo,"isOpen",t)}}},[a("el-form",{ref:"formByAdd",attrs:{model:e.addInfo.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"流程名称",prop:"name"}},[a("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.name,callback:function(t){e.$set(e.addInfo.form,"name",t)},expression:"addInfo.form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择流程",prop:"file"}},[a("el-upload",{ref:"addUpload",attrs:{action:"xxx","auto-upload":!1,"on-change":e.changeAddFile,"on-remove":e.removeAddFile}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("请选择需要上传的*.zip文件！")])],1),e._v(" "),a("div",{staticClass:"disNone"},[a("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.file,callback:function(t){e.$set(e.addInfo.form,"file",t)},expression:"addInfo.form.file"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"流程描述",prop:"desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addInfo.form.desc,callback:function(t){e.$set(e.addInfo.form,"desc",t)},expression:"addInfo.form.desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sendAddAjax("formByAdd")}}},[e._v("新 增")]),e._v(" "),a("el-button",{on:{click:e.resetAddInfo}},[e._v("取 消")])],1)],1)],1)},d=[],s={render:r,staticRenderFns:d},p=s,m=a("/Xao"),c=m(n,p,!1,null,null,null);t.default=c.exports},aVnr:function(e,t){e.exports=[{addDate:"2016-05-02",processName:"浙江申请减免",definedName:"orderApply:1:1",litpic:"http://www.jingjingke.com/uploads/allimg/171026/1-1G026135P50-L.gif"},{addDate:"2016-05-10",processName:"浙江代扣",definedName:"orderApply:2:3",litpic:"http://www.jingjingke.com/uploads/allimg/171108/1-1G10Q413290-L.png"},{addDate:"2016-05-19",processName:"浙江代扣2",definedName:"orderApply:3:1",litpic:"http://www.jingjingke.com/uploads/allimg/160930/1-160930160253515.jpg"},{addDate:"2016-05-25",processName:"浙江代扣2-2",definedName:"orderApply:3:2",litpic:"http://www.jingjingke.com/uploads/allimg/160128/1-16012Q40413636.png"},{addDate:"2016-05-28",processName:"浙江代扣2-3",definedName:"orderApply:3:3",litpic:"http://www.jingjingke.com/uploads/allimg/160218/1-16021Q42302264.jpg"},{addDate:"2016-05-19",processName:"浙江代扣2",definedName:"orderApply:3:1",litpic:"http://www.jingjingke.com/uploads/allimg/170810/1-1FQ0153QJ95.png"},{addDate:"2016-05-25",processName:"浙江代扣2-2",definedName:"orderApply:3:2",litpic:"http://www.jingjingke.com/uploads/allimg/160423/1-160423110930337.jpg"},{addDate:"2016-05-28",processName:"浙江代扣2-3",definedName:"orderApply:3:3",litpic:"http://www.jingjingke.com/uploads/allimg/160423/1-160423115201522.jpg"},{addDate:"2016-05-25",processName:"浙江代扣2-2",definedName:"orderApply:3:2",litpic:"http://www.jingjingke.com/uploads/allimg/160423/1-160423120Gb23.jpg"},{addDate:"2016-05-28",processName:"浙江代扣2-3",definedName:"orderApply:3:3",litpic:"http://www.jingjingke.com/uploads/allimg/160423/1-160423125053223.jpg"}]}});