webpackJsonp([23],{qILo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={name:"GroupPower",data:function(){return{powerTree:[{children:[{id:19,name:"产品设置",parentId:"18",seq:0,type:"1"},{id:101,name:"资料配置",parentId:"18",seq:1,type:"1"}],id:18,name:"产品管理",seq:12,type:"0"}],searchInfo:{list:[]},typeList:["一级菜单","二级菜单","页面","动作"],addInfo:{isOpen:!1,form:{name:"",type:"",url:"",projectPath:"",href:"",seq:0,parentId:1}},changeInfo:{isOpen:!1,form:{}},deleteInfo:{isOpen:!1,form:{}},rules:{name:[{required:!0,message:"名称不能为空",trigger:"change"}],type:[{type:"number",required:!0,message:"类型不能为空",trigger:"change"}]}}},methods:{handleNodeClick:function(e){console.log("点击的权限："+e.name+"ID为："+e.id),this.getListAjax(e.id)},getListAjax:function(e){console.log("发送ajax查询数据或分页规则处理"),this.searchInfo.list=[{href:"/product/config",id:18,name:"产品管理",seq:12,type:"0"}]},formatValue:function(e,t,n){return this.typeList[n]},sendAddAjax:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("在此发送addInfo.form数据"),console.log(t.addInfo.form)})},resetAddInfo:function(){this.resetForm("formByAdd"),this.addInfo.isOpen=!1},openChange:function(e){var t=this;this.changeInfo.isOpen=!0,setTimeout(function(){t.$refs.formByChange.resetFields(),t.changeInfo.form={id:e.id,name:e.name,type:parseInt(e.type),url:e.url,projectPath:e.projectPath,href:e.href,seq:e.seq}},100)},sendChangeAjax:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("在此发送changeInfo.form数据"),console.log(t.changeInfo.form)})},resetChangeInfo:function(){this.$refs.formByChange.resetFields(),this.changeInfo.isOpen=!1},openDelete:function(e){this.deleteInfo={isOpen:!0,form:e}},sendDeleteAjax:function(){console.log("确认删除ID为"+this.deleteInfo.form.id+"的权限")}},mounted:function(){this.getListAjax(1)}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-main",[n("Breadcrumb"),e._v(" "),n("ContentWarp",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:4}},[n("el-form",[n("el-form-item",[n("el-button",{attrs:{plain:""}},[e._v("管理顶级权限")])],1)],1),e._v(" "),n("el-tree",{attrs:{data:e.powerTree,props:{children:"children",label:"name"},accordion:""},on:{"node-click":e.handleNodeClick}})],1),e._v(" "),n("el-col",{attrs:{span:20}},[n("div",{staticClass:"content-right-title"},[e._v("\n          顶级权限\n          "),n("el-button",{attrs:{type:"danger"},on:{click:function(t){e.addInfo.isOpen=!0}}},[e._v("新 增")])],1),e._v(" "),n("el-table",{attrs:{border:"",stripe:"",data:e.searchInfo.list,size:"small"}},[n("el-table-column",{attrs:{align:"center",label:"权限名称",prop:"name","min-width":"160px",fixed:""}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"项目路径",prop:"projectPath","min-width":"300px"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"绝对路径",prop:"url","min-width":"240px"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"链接",prop:"href","min-width":"240px"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"排序",prop:"seq",width:"60"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"类型",prop:"type",formatter:e.formatValue,width:"100"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",plain:""},on:{click:function(n){return e.openChange(t.row)}}},[e._v("修改\n              ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(n){return e.openDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"新增权限",width:"600px",center:"",visible:e.addInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){return e.$set(e.addInfo,"isOpen",t)}}},[n("el-form",{ref:"formByAdd",attrs:{model:e.addInfo.form,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"权限名称",prop:"name"}},[n("el-input",{model:{value:e.addInfo.form.name,callback:function(t){e.$set(e.addInfo.form,"name",t)},expression:"addInfo.form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"项目路径",prop:"projectPath"}},[n("el-input",{model:{value:e.addInfo.form.projectPath,callback:function(t){e.$set(e.addInfo.form,"projectPath",t)},expression:"addInfo.form.projectPath"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"绝对路径",prop:"url"}},[n("el-input",{model:{value:e.addInfo.form.url,callback:function(t){e.$set(e.addInfo.form,"url",t)},expression:"addInfo.form.url"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"链接",prop:"href"}},[n("el-input",{model:{value:e.addInfo.form.href,callback:function(t){e.$set(e.addInfo.form,"href",t)},expression:"addInfo.form.href"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"排序",prop:"seq"}},[n("el-input-number",{attrs:{min:0,max:100},model:{value:e.addInfo.form.seq,callback:function(t){e.$set(e.addInfo.form,"seq",t)},expression:"addInfo.form.seq"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"类型",prop:"type"}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.addInfo.form.type,callback:function(t){e.$set(e.addInfo.form,"type",t)},expression:"addInfo.form.type"}},e._l(e.typeList,function(e,t){return n("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sendAddAjax("formByAdd")}}},[e._v("新 增")]),e._v(" "),n("el-button",{on:{click:e.resetAddInfo}},[e._v("取 消")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"修改权限",width:"600px",center:"",visible:e.changeInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){return e.$set(e.changeInfo,"isOpen",t)}}},[n("el-form",{ref:"formByChange",attrs:{model:e.changeInfo.form,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"权限名称",prop:"name"}},[n("el-input",{model:{value:e.changeInfo.form.name,callback:function(t){e.$set(e.changeInfo.form,"name",t)},expression:"changeInfo.form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"项目路径",prop:"projectPath"}},[n("el-input",{model:{value:e.changeInfo.form.projectPath,callback:function(t){e.$set(e.changeInfo.form,"projectPath",t)},expression:"changeInfo.form.projectPath"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"绝对路径",prop:"url"}},[n("el-input",{model:{value:e.changeInfo.form.url,callback:function(t){e.$set(e.changeInfo.form,"url",t)},expression:"changeInfo.form.url"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"链接",prop:"href"}},[n("el-input",{model:{value:e.changeInfo.form.href,callback:function(t){e.$set(e.changeInfo.form,"href",t)},expression:"changeInfo.form.href"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"排序",prop:"seq"}},[n("el-input-number",{attrs:{min:0,max:100},model:{value:e.changeInfo.form.seq,callback:function(t){e.$set(e.changeInfo.form,"seq",t)},expression:"changeInfo.form.seq"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"类型",prop:"type"}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.changeInfo.form.type,callback:function(t){e.$set(e.changeInfo.form,"type",t)},expression:"changeInfo.form.type"}},e._l(e.typeList,function(e,t){return n("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sendChangeAjax("formByChange")}}},[e._v("修 改")]),e._v(" "),n("el-button",{on:{click:e.resetChangeInfo}},[e._v("取 消")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"删除",width:"600px",center:"",visible:e.deleteInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){return e.$set(e.deleteInfo,"isOpen",t)}}},[n("p",{staticClass:"text-center"},[e._v("\n      确定删除"),n("span",{staticClass:"text-red"},[e._v(" "+e._s(e.deleteInfo.form.name)+" ")]),e._v("吗？\n    ")]),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.sendDeleteAjax}},[e._v("确 认")]),e._v(" "),n("el-button",{on:{click:function(t){e.deleteInfo.isOpen=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]},a=n("C7Lr")(o,r,!1,null,null,null);t.default=a.exports}});